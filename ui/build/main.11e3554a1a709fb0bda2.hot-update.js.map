{"version":3,"file":"main.11e3554a1a709fb0bda2.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AATA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AApBA;AAAA;AAAA;AAAA;AAAA;AAZA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAgDA;;AAlDA;AAoDA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AA4BA;;AA3DA;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EA;;AAEA;;AAEA;AACA;AADA;AAGA;;AAEA;;AAEA;;AAEA;AACA;AADA;;AAIA;;;;;;;;ACjBA","sources":["/Users/sean.narenthiran/Code/lightning-collaborative/ui/src/Metrics.js","/Users/sean.narenthiran/Code/lightning-collaborative/ui/node_modules/@mui/icons-material/QuestionMark.js","/Users/sean.narenthiran/Code/lightning-collaborative/ui/webpack/runtime/getFullHash"],"sourcesContent":["import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport GlobalStyles from '@mui/material/GlobalStyles';\nimport Container from '@mui/material/Container';\nimport { CopyBlock, dracula } from \"react-code-blocks\";\nimport { styled } from \"@mui/material/styles\";\nimport Train from './Train';\nimport ScrollableFeed from 'react-scrollable-feed'\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport CollaborativeLinearProgress from \"./components/ProgressBar\"\nimport Title from './components/Title'\nimport QuestionMarkIcon from '@mui/icons-material/QuestionMark';\n\nconst CardContentNoPadding = styled(CardContent)(`\n  padding: 0;\n  height: \"100%\",\n  \"&:last-child\": {\n      paddingBottom: 0\n    }\n  }\n`);\n\nfunction Progress(props) {\n  return (\n    <React.Fragment>\n      <Paper sx={{ height: \"50%\", p: 2, display: 'flex', mb: 1, mt: 2, flexDirection: 'column', background: \"transparent\", borderRadius: 2, border: 1, borderColor: \"#ffffff44\", boxShadow: '0' }}>\n        <Grid container rowSpacing={1} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\n          <Grid item xs={6}>\n            <Typography variant=\"h5\" align=\"left\" color=\"text.secondary\" component=\"p\" sx={{ letterSpacing: 3 }}>\n              GLOBAL PROGRESS\n            </Typography>\n            <Typography variant=\"body2\" align=\"left\" color=\"text.secondary\" component=\"p\" sx={{ letterSpacing: 1 }}>\n              Progress for the collaborative training run.\n            </Typography>\n          </Grid>\n        </Grid>\n        <CollaborativeLinearProgress eta={props.eta} progress={props.progress} epoch={props.epoch} />\n        <Grid container rowSpacing={1} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\n          <Grid item xs={8}>\n            <Card sx={{ p: 2, display: 'flex', mb: 1, mt: 2, flexDirection: 'column', background: \"transparent\", borderRadius: 2, border: 1, borderColor: \"#ffffff44\", boxShadow: '0' }}>\n              <Title><Typography variant=\"h6\" sx={{ color: 'white', letterSpacing: 3 }}>STATISTICS</Typography></Title>\n              <Container disableGutters id=\"left\" sx={{ display: 'flex', flexDirection: 'row',  }}>\n                  <Container disableGutters sx={{pl : 0, pr: 2}}>\n                    <Title><Typography variant=\"caption\" sx={{ color: 'white' }}>GLOBAL EPOCH ETA</Typography></Title>\n                    <Title><Typography variant=\"h5\" sx={{ color: 'white' }}>{props.eta}</Typography></Title>\n                  </Container>\n                  <Container disableGutters sx={{pl : 0, pr: 0}}>\n                    <Title><Typography variant=\"caption\" sx={{ color: 'white' }}>NUMBER OF PEERS</Typography></Title>\n                    <Title><Typography variant=\"h5\" sx={{ color: 'white' }}>{props.peers}</Typography></Title>\n                  </Container>\n                  <Container disableGutters sx={{pl : 0, pr: 0}}>\n                    <Title><Typography variant=\"caption\" sx={{ color: 'white' }}>CONTRIBUTION</Typography> <QuestionMarkIcon /></Title>\n                    <Title><Typography variant=\"h5\" sx={{ color: 'white' }}>{`${props.contribution}%`}</Typography></Title>\n                  </Container>\n              </Container>\n            </Card>\n          </Grid>\n          <Grid item xs={4}>\n            <Card sx={{ p: 2, display: 'flex', mb: 1, mt: 2, flexDirection: 'column', background: \"transparent\", borderRadius: 2, border: 1, borderColor: \"#ffffff44\", boxShadow: '0' }}>\n              <Title><Typography variant=\"h6\" sx={{ color: 'white', letterSpacing: 3 }}>METRICS</Typography></Title>\n              <Container disableGutters id=\"left\" sx={{ display: 'flex', flexDirection: 'row',  }}>\n                  <Container disableGutters sx={{pl : 0, pr: 2}}>\n                    <Title><Typography variant=\"caption\" sx={{ color: 'white' }}>TRAINING LOSS</Typography></Title>\n                    <Title><Typography variant=\"h5\" sx={{ color: 'white' }}>{props.loss}</Typography></Title>\n                  </Container>\n              </Container>\n            </Card>\n          </Grid>\n        </Grid>\n      </Paper>\n    </React.Fragment>\n  );\n}\n\nexport default function Metrics(props) {\n\n  const [progress, setProgress] = React.useState(0);\n  const [epoch, setEpoch] = React.useState('-');\n  const [peers, setPeers] = React.useState('-');\n  const [contribution, setContribution] = React.useState(\"0\");\n  const [eta, setEta] = React.useState('-');\n  const [loss, setLoss] = React.useState('-');\n\n  var lightningState = props.lightningState;\n\n  React.useEffect(() => {\n    if (lightningState) {\n      let work_state = lightningState.flows.train_flow.works.work_0?.vars;\n      if (work_state && work_state?.progress_state) {\n        setProgress(work_state.progress_state.progress);\n        setEpoch(work_state.progress_state.epoch);\n        setEta(work_state.progress_state.eta);\n        setPeers(work_state.progress_state.peers);\n        if (work_state.contribution) {\n          setContribution(work_state.contribution);\n        }\n        if (work_state.loss) {\n          setLoss(work_state.loss);\n        }\n      }\n    }\n  }, [lightningState]);\n\n\n  return (\n    <React.Fragment>\n      <Container sx={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n        <Typography variant=\"h2\" align=\"left\" color=\"text.secondary\" component=\"p\" sx={{ ml: 1, letterSpacing: 3 }}>\n          &#8203;\n        </Typography>\n        <Typography variant=\"body1\" align=\"left\" color=\"text.secondary\" component=\"p\" sx={{ ml: 1, letterSpacing: 1 }}>\n          &#8203;\n        </Typography>\n        {Progress({eta, progress, epoch, peers, contribution, loss})}\n        <Card sx={{ borderRadius: 2, height: \"100%\" }}>\n          <CardContent sx={{ p: 0, height: \"100%\", '&:last-child': { pb: 0 }, backgroundColor: '#282a36' }}>\n            <Box sx={{ height: \"300px\", overflowY: \"auto\", width: '100%', pb: 0, backgroundColor: '#282a36' }}>\n              <ScrollableFeed>\n                <CopyBlock\n                  text={props.logState}\n                  language={\"bash\"}\n                  showLineNumbers={false}\n                  wrapLines\n                  theme={dracula}\n                  customStyle={{ paddingLeft: 20 }}\n                />\n              </ScrollableFeed>\n            </Box>\n          </CardContent>\n        </Card>\n      </Container>\n    </React.Fragment>\n  )\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15zM14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2z\"\n}), 'QuestionMark');\n\nexports.default = _default;","__webpack_require__.h = () => (\"788f6c24ecddfbecbc71\")"],"names":[],"sourceRoot":""}